<main class="main">
  <div class="form-generator">
    <form class="form" [formGroup]="formGroup">
      <mat-form-field>
        <mat-label>Екіпаж</mat-label>
        <input [formControlName]="'crewName'"
               matInput placeholder="Назва вашого екіпажу" value="">
      </mat-form-field>

      <mat-form-field class="example-full-width">
        <mat-label>Борт</mat-label>
        <input type="text"
               placeholder="Виберіть ваш борт"
               aria-label="Борт"
               matInput
               [formControlName]="'uav'"
               [matAutocomplete]="auto">
        <mat-autocomplete #auto="matAutocomplete">
          @for (option of uavOptions; track option) {
            <mat-option [value]="option">{{option}}</mat-option>
          }
        </mat-autocomplete>
      </mat-form-field>

      <mat-form-field>
        <mat-label>Номер цілі</mat-label>
        <input [formControlName]="'targetNumber'"
               matInput placeholder="Номер цілі відповідно до віражу, у інших випадках вказуйте джерело в дужках після номера." value="">
      </mat-form-field>

      <mat-form-field>
        <mat-label>Місце початку польоту</mat-label>
        <input [formControlName]="'startLocation'"
               matInput placeholder="Назва населеного пункту, біля якого виконувався зліт." value="">
      </mat-form-field>

      <div class="date-row">
        <mat-form-field>
          <mat-label>Дата початку польоту</mat-label>
          <input [formControlName]="'startDate'"
                 matInput [matDatepicker]="spicker" placeholder="ДД.ММ.ГГГГ">
          <mat-datepicker-toggle matIconSuffix [for]="spicker"></mat-datepicker-toggle>
          <mat-datepicker #spicker></mat-datepicker>
        </mat-form-field>

        <mat-form-field>
          <mat-label>Час початку польоту</mat-label>
          <input matInput
                 [matTimepicker]="stimepicker"
                 [formControlName]="'startDate'">
          <mat-timepicker #stimepicker/>
          <mat-timepicker-toggle [for]="stimepicker" matSuffix/>
        </mat-form-field>

        <button matButton="filled" (click)="setCurrentTime('startDate')">Поточний час</button>
      </div>

      <mat-form-field>
        <mat-label>Місце закінчення польоту</mat-label>
        <input [formControlName]="'endLocation'"
               matInput placeholder="Назва населеного пункту, біля якого борт було посажено/втрачено, або знищено ціль." value="">
      </mat-form-field>

      <div class="date-row">
        <mat-form-field>
          <mat-label>Дата закінчення польоту</mat-label>
          <input [formControlName]="'endDate'"
                 matInput [matDatepicker]="epicker" placeholder="ДД.ММ.ГГГГ">
          <mat-datepicker-toggle matIconSuffix [for]="epicker"></mat-datepicker-toggle>
          <mat-datepicker #epicker></mat-datepicker>
        </mat-form-field>

        <mat-form-field>
          <mat-label>Час закінчення польоту</mat-label>
          <input matInput
                 [matTimepicker]="etimepicker"
                 [formControlName]="'endDate'">
          <mat-timepicker #etimepicker/>
          <mat-timepicker-toggle [for]="etimepicker" matSuffix/>
        </mat-form-field>

        <button matButton="filled" (click)="setCurrentTime('endDate')">Поточний час</button>
      </div>

      <mat-form-field>
        <mat-label>Результат польоту</mat-label>
        <textarea [formControlName]="'result'"
                  matInput placeholder="Результат польоту. Наприклад, «Ціль знищено, ціль — Гербера».">
        </textarea>
      </mat-form-field>

      <div class="button-container">
        <button matButton="filled" (click)="startFlight()">Почати політ</button>

        <button matButton="filled" (click)="endFlight()">Завершити політ</button>
      </div>
    </form>
  </div>
</main>

<router-outlet />
